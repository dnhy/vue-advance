{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/props.ts", "../../shared/src/index.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/createVNode.ts", "../../runtime-core/src/h.ts", "../src/index.ts"],
  "sourcesContent": ["export const nodeOps = {\n  insert(el, parent, anchor) {\n    return parent.insertBefore(el, anchor || null);\n  },\n  remove(el) {\n    const parent = el.parentNode;\n    if (parent) {\n      parent.removeChild(el);\n    }\n  },\n  createElement(type) {\n    return document.createElement(type);\n  },\n  createText(text) {\n    return document.createTextNode(text);\n  },\n  setText(node, text) {\n    return (node.nodeValue = text);\n  },\n  setElementText(node, text) {\n    return (node.textContent = text);\n  },\n  parentNode(node) {\n    return node.parentNode;\n  },\n  nextSibling(node) {\n    return node.nextSibling;\n  },\n};\n", "function patchStyle(el, prevValue, nextValue) {\n  const style = el[\"style\"];\n  if (nextValue) {\n    for (const key in nextValue) {\n      style[key] = nextValue[key];\n    }\n  }\n  if (prevValue) {\n    for (const key in prevValue) {\n      if (nextValue[key] == null) {\n        style[key] = null;\n      }\n    }\n  }\n}\n\nfunction patchClass(el, nextValue) {\n  if (nextValue === null) {\n    el.removeAttribute(\"class\");\n  } else {\n    el.className = nextValue;\n  }\n}\nfunction createInvoker(val) {\n  const invoker = (e) => invoker.val(e);\n  invoker.val = val;\n  return invoker;\n}\n\nfunction patchEvent(el, eventName, nextValue) {\n  // \u7F13\u5B58map\n  const invokers = el._evi || (el._evi = {});\n  const exists = invokers[eventName];\n  if (exists && nextValue) {\n    exists.val = nextValue;\n  } else {\n    const name = eventName.slice(2).toLowerCase();\n    if (nextValue) {\n      const invoker = createInvoker(nextValue);\n      invokers[eventName] = invoker;\n      el.addEventListener(name, invoker);\n    } else if (exists) {\n      el.removeEventListner(name, exists);\n      invokers[eventName] = null;\n    }\n  }\n}\n\nfunction patchAttr(el, key, nextValue) {\n  if (nextValue === null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, nextValue);\n  }\n}\n\nexport function patchProp(el, key, prevValue, nextValue) {\n  if (key === \"style\") {\n    return patchStyle(el, prevValue, nextValue);\n  } else if (key === \"class\") {\n    return patchClass(el, nextValue);\n  } else if (/on[^a-z]/.test(key)) {\n    return patchEvent(el, key, nextValue);\n  } else {\n    return patchAttr(el, key, nextValue);\n  }\n}\n", "export function isObject(val: any) {\n  return typeof val === \"object\" && val !== null;\n}\n\nexport function isFunction(val) {\n  return typeof val === \"function\";\n}\n\nexport function isString(val) {\n  return typeof val === \"string\";\n}\n\nexport const enum ShapeFlags {\n  ELEMENT = 1, // \u5143\u7D20\n  FUNCTIONAL_COMPONENT = 1 << 1, // 2\n  STATEFUL_COMPONENT = 1 << 2, // 4\n  TEXT_CHILDREN = 1 << 3, // \u6587\u672C\u5B69\u5B50\n  ARRAY_CHILDREN = 1 << 4, // \u6570\u7EC4\u5B69\u5B50\n  SLOTS_CHILDREN = 1 << 5, // \u7EC4\u4EF6\u7684\u63D2\u69FD\n  TELEPORT = 1 << 6, // \u4F20\u9001\u95E8\u7EC4\u4EF6\n  SUSPENSE = 1 << 7, // SUSPENSE\u7EC4\u4EF6\n  COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8, // keep-alive\n  COMPONENT_KEPT_ALIVE = 1 << 9,\n  COMPONENT = ShapeFlags.STATEFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT,\n}\n", "import { ShapeFlags } from \"../../shared/src/index.js\";\n\nexport function createRenderer(options) {\n  let {\n    insert: hostInsert,\n    remove: hostRemove,\n    createElement: hostCreatElement,\n    createText: hostCreateText,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    patchProp: hostPatchProp,\n  } = options;\n\n  function mountChildren(children, container) {\n    for (let i = 0; i < children.length; i++) {\n      patch(null, children[i], container);\n    }\n  }\n\n  function mountElement(vnode, container) {\n    const { type, props, shapeFlag, children } = vnode;\n    const el = (vnode.el = hostCreatElement(type));\n    if (props) {\n      for (const key in props) {\n        hostPatchProp(el, key, null, props[key]);\n      }\n    }\n    if (ShapeFlags.ARRAY_CHILDREN & shapeFlag) {\n      mountChildren(children, el);\n    } else {\n      hostSetElementText(el, children);\n    }\n\n    hostInsert(el, container);\n  }\n  function patchElement(vnode, nextNode, container) {}\n\n  function unmount(vnode) {\n    hostRemove(vnode);\n  }\n\n  function patch(prevNode, nextNode, container) {\n    if (prevNode == null) {\n      mountElement(nextNode, container);\n    } else {\n      patchElement(prevNode, nextNode, container);\n    }\n  }\n  return {\n    render(vnode, container) {\n      if (vnode === null) {\n        unmount(vnode.el);\n      } else {\n        const prevNode = container._vnode || null;\n        const nextNode = vnode;\n        patch(prevNode, nextNode, container);\n        container._vnode = nextNode;\n      }\n    },\n  };\n}\n", "import { isString, ShapeFlags } from \"../../shared/src/index.js\";\n\nexport function isVnode(val) {\n  return !!(val && val.__v_isVNode);\n}\n\nexport function createVNode(type, props?, children?: any[] | string) {\n  const shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0;\n\n  const vnode = {\n    shapeFlag,\n    __v_isVNode: true,\n    type,\n    props,\n    key: props && props.key,\n    el: null,\n    children,\n  };\n\n  if (children) {\n    let type = 0;\n    if (Array.isArray(children)) {\n      type = ShapeFlags.ARRAY_CHILDREN;\n    } else {\n      type = ShapeFlags.TEXT_CHILDREN;\n    }\n\n    vnode.shapeFlag |= type;\n  }\n\n  return vnode;\n}\n", "import { isObject } from \"../../shared/src/index.js\";\nimport { createVNode, isVnode } from \"./createVNode.js\";\n\nexport function h(type, propsOrChildren?, children?) {\n  //createElement\u7528\u6237\u521B\u5EFA\u865A\u62DFdom\u7684\u65B9\u6CD5\n  const len = arguments.length;\n  if (len == 2) {\n    if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\n      if (isVnode(propsOrChildren)) {\n        // const vDom = h(\"div\", h(\"span\", \"123\"));\n        return createVNode(type, null, [propsOrChildren]);\n      } else {\n        // const vDom = h(\"div\", { style: { color: \"red\" } });\n        return createVNode(type, propsOrChildren);\n      }\n    } else {\n      // const vDom = h(\"div\", \"hello jw\");\n      // const vDom = h(\"div\", [h(\"span\", \"123\"), h(\"span\", \"qwq\")]);\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (len > 3) {\n      // const vDom = h(\"div\", {}, h(\"span\", \"123\"), h(\"span\", \"qwq\"));\n      children = Array.from(arguments).slice(2);\n    } else {\n      // const vDom = h(\"div\",{}, h(\"span\", \"123\"));\n      // const vDom = h(\"div\", h(\"span\", \"123\"), h(\"span\", \"qwq\"));\u274E\u9519\u8BEF\u5199\u6CD5\n      if (len == 3 && isVnode(children)) {\n        children = [children];\n      }\n    }\n\n    // const vDom = h(\"div\");\n    // const vDom = h(\"div\", {}, \"hello jw\");\n    // const vDom = h(\"div\", {}, [h(\"span\", \"123\"), h(\"span\", \"qwq\")]);\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n", "//\u6D4F\u89C8\u5668dom\u7684options\nimport { nodeOps } from \"./nodeOps.js\";\nimport { patchProp } from \"./props.js\";\n// \u521B\u5EFA\u6E32\u67D3\u51FD\u6570\u7684\u6838\u5FC3\u65B9\u6CD5\nimport { createRenderer } from \"@vue/runtime-core\";\n\nconst renderOptions = { ...nodeOps, patchProp };\n\nexport function render(vdom, container) {\n  const { render } = createRenderer(renderOptions);\n\n  render(vdom, container);\n}\n\nexport * from \"@vue/runtime-core\";\n"],
  "mappings": "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",
  "names": ["type", "render"]
}
